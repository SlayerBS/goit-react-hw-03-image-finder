{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/SearchBar.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","App.js","index.js"],"names":["module","exports","SearchBar","state","value","handleChange","evt","setState","target","toLowerCase","console","log","handleSubmit","preventDefault","trim","props","onSubmit","alert","className","styles","Searchbar","SearchForm","this","type","autocomplete","autofocus","placeholder","onChange","Component","ImageGalleryItem","key","imageSrc","src","alt","ImageGallery","images","map","image","webformatURL","id","Button","onClick","App","searchQuery","page","showModal","isLoading","largeImageURL","getImages","axios","defaults","baseURL","get","then","res","data","hits","prevState","catch","error","finally","scrollDown","window","scrollTo","top","document","documentElement","scrollHeight","behavior","prevProps","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.944d0903.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1OHvA\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__1Q_9s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1vX9v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__lvLUS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__1kVwW\"};","import React, {Component} from 'react';\r\nimport styles from './SearchBar.module.css'\r\n\r\nclass SearchBar extends Component {\r\n    state = {\r\n          value:\"\",\r\n    }\r\n    handleChange = evt => {\r\n        \r\n        this.setState({ value: evt.target.value.toLowerCase() });\r\n        console.log(evt.target.value);\r\n  };\r\n\r\n    handleSubmit = evt => {\r\n        evt.preventDefault();\r\n        if (this.state.value.trim() === \"\") {\r\n            alert(\"Введите поисковый запрос\");\r\n            return\r\n        }\r\n    this.props.onSubmit(this.state.value);\r\n        this.setState({ value: '' });\r\n        \r\n    };\r\n\r\n       \r\n    render() {\r\n        return (\r\n            <header className={styles.Searchbar}>\r\n                <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n                    <button type=\"submit\" className={styles[\"SearchForm-button\"]}>\r\n                        <span className={styles[\"SearchForm-button-label\"]}>Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className={styles[\"SearchForm-input\"]}\r\n                        type=\"text\"\r\n                        autocomplete=\"off\"\r\n                        autofocus\r\n                        placeholder=\"Search images and photos\"\r\n                        onChange={this.handleChange}\r\n                        value={this.state.value}\r\n                    />\r\n                </form>\r\n            </header>\r\n        )\r\n    }\r\n\r\n}\r\nexport default SearchBar;","import { v4 as uuidv4 } from \"uuid\";\r\nimport styles from './ImageGalleryItem.module.css'\r\n\r\nconst ImageGalleryItem = ({key, imageSrc}) => {\r\n    return (\r\n        <li className={styles.ImageGalleryItem} key={key}>\r\n            <img src={imageSrc} alt=\"\" className={styles[\"ImageGalleryItem-image\"]} />\r\n</li>\r\n    )\r\n    \r\n}\r\nexport default ImageGalleryItem;","import ImageGalleryItem from '../ImageGalleryItem'\r\n\r\nimport styles from './ImageGallery.module.css'\r\n\r\nconst ImageGallery = ({images}) =>\r\n{\r\n           return (\r\n            <ul className={styles.ImageGallery}>\r\n  \r\n                {images.map((image) => (<ImageGalleryItem key={image.id} imageSrc={image.webformatURL} />))\r\n               \r\n                }\r\n            </ul>\r\n        )\r\n   \r\n    }\r\nexport default ImageGallery;","import PropTypes from 'prop-types';\r\nimport styles from './Button.module.css'\r\n\r\nconst Button = ({ onClick }) =>\r\n{\r\n    \r\n    return (\r\n        <button onClick={onClick} className={styles.Button}>\r\n            Load more\r\n        </button>\r\n        \r\n    )\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import React, {Component} from 'react';\nimport SearchBar from './components/Searchbar';\nimport axios from 'axios';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    searchQuery: \"\",\n    page: 1,\n    showModal: false,\n    isLoading: false,\n    largeImageURL:''\n  }\n\n   componentDidUpdate(prevProps, prevState) {\n     const prevQuery = prevState.searchQuery;\n     const nextQuery = this.state.searchQuery;\n    if (prevQuery !== nextQuery) {\n      this.getImages();\n    }\n  }\n\n  onSubmit=(searchQuery) =>this.setState({ images: [], searchQuery: searchQuery, page: 1 });\n   \n  getImages = () => {\n  \n  const { searchQuery, page } = this.state;\n  this.setState({ isLoading: true });\n  const API_KEY = '4423902-dbd0f970c0cc60dbb84d66d4b';\n  axios.defaults.baseURL = 'https://pixabay.com/api/';\n  \n    axios\n      .get(`?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${page}&per_page=12&key=${API_KEY}`)\n      .then(res => res.data.hits)\n      .then(images => this.setState(prevState => ({\n        images: [...prevState.images, ...images],\n        page: prevState.page + 1,\n      }))).catch(error => this.setState({ error }))\n      .finally(() => {\n         this.scrollDown();\n        this.setState({ isLoading: false });\n      });\n    \n  \n    \n  };\n  \n  scrollDown = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n    \n  }\n  render() {\n    const { images, isLoading, showModal, largeImageURL } = this.state;\n      return (\n      <>\n        <SearchBar onSubmit={this.onSubmit} />\n          {this.state.images && <div>\n            <ImageGallery images={images }/>\n          </div>}\n          {images.length&&\n          (<Button onClick={this.getImages}/>)}\n\n   </>\n    );\n  }\n  \n}\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}