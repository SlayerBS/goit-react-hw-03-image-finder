{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","api/api.js","components/Loader/Loader.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/SearchBar.module.css"],"names":["module","exports","SearchBar","state","value","handleChange","evt","setState","target","toLowerCase","console","log","handleSubmit","preventDefault","trim","props","onSubmit","alert","className","styles","Searchbar","SearchForm","this","type","autocomplete","autofocus","placeholder","onChange","Component","ImageGalleryItem","key","imageSrc","src","alt","ImageGallery","images","map","image","webformatURL","id","Button","onClick","axios","defaults","baseURL","getImagesByQuery","searchQuery","currentPage","get","then","response","data","hits","LoaderSpiner","color","height","width","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","children","App","page","showModal","isLoading","largeImageURL","error","getImages","prevState","catch","finally","scrollDown","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","prevProps","isLastPage","length","message","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.12bb0767.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1OHvA\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__1Q_9s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1IQID\",\"Modal\":\"Modal_Modal__1wBqd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1vX9v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__lvLUS\"};","import React, { Component } from \"react\";\r\nimport styles from \"./SearchBar.module.css\";\r\n\r\nclass SearchBar extends Component {\r\n  state = {\r\n    value: \"\",\r\n  };\r\n  handleChange = (evt) => {\r\n    this.setState({ value: evt.target.value.toLowerCase() });\r\n    console.log(evt.target.value);\r\n  };\r\n\r\n  handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    if (this.state.value.trim() === \"\") {\r\n      alert(\"Введите поисковый запрос\");\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.value);\r\n    this.setState({ value: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles[\"SearchForm-button\"]}>\r\n            <span className={styles[\"SearchForm-button-label\"]}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles[\"SearchForm-input\"]}\r\n            type=\"text\"\r\n            autocomplete=\"off\"\r\n            autofocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChange}\r\n            value={this.state.value}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\nexport default SearchBar;\r\n","import { v4 as uuidv4 } from \"uuid\";\r\nimport styles from './ImageGalleryItem.module.css'\r\n\r\nconst ImageGalleryItem = ({key, imageSrc}) => {\r\n    return (\r\n        <li className={styles.ImageGalleryItem} key={key}>\r\n            <img src={imageSrc} alt=\"\" className={styles[\"ImageGalleryItem-image\"]} />\r\n</li>\r\n    )\r\n    \r\n}\r\nexport default ImageGalleryItem;","import ImageGalleryItem from '../ImageGalleryItem'\r\n\r\nimport styles from './ImageGallery.module.css'\r\n\r\nconst ImageGallery = ({images}) =>\r\n{\r\n           return (\r\n            <ul className={styles.ImageGallery}>\r\n  \r\n                {images.map((image) => (<ImageGalleryItem key={image.id} imageSrc={image.webformatURL} />))\r\n               \r\n                }\r\n            </ul>\r\n        )\r\n   \r\n    }\r\nexport default ImageGallery;","import PropTypes from 'prop-types';\r\nimport styles from './Button.module.css'\r\n\r\nconst Button = ({ onClick }) =>\r\n{\r\n    \r\n    return (\r\n        <button onClick={onClick} className={styles.Button}>\r\n            Load more\r\n        </button>\r\n        \r\n    )\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import axios from \"axios\";\r\n\r\nconst API_KEY = \"4423902-dbd0f970c0cc60dbb84d66d4b\";\r\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\r\n\r\nconst getImagesByQuery = (searchQuery, currentPage) => {\r\n  return axios\r\n    .get(\r\n      `?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${currentPage}&per_page=12&key=${API_KEY}`\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\n\r\nexport { getImagesByQuery };\r\n","import Loader from \"react-loader-spinner\";\r\n\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nconst LoaderSpiner = () => {\r\n  return <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={80} />;\r\n};\r\n\r\nexport default LoaderSpiner;\r\n","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nimport styles from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={styles.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\nexport default Modal;\r\n","import React, { Component } from \"react\";\nimport SearchBar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\nimport { getImagesByQuery } from \"./api/api\";\nimport LoaderSpiner from \"./components/Loader/Loader\";\nimport Modal from \"./components/Modal\";\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    searchQuery: \"\",\n    page: 1,\n    showModal: false,\n    isLoading: false,\n    largeImageURL: \"\",\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n    if (prevQuery !== nextQuery) {\n      this.getImages();\n    }\n  }\n\n  onSubmit = (searchQuery) =>\n    this.setState({ images: [], searchQuery: searchQuery, page: 1 });\n\n  getImages = () => {\n    const { searchQuery, page } = this.state;\n    this.setState({ isLoading: true });\n\n    getImagesByQuery(searchQuery, page)\n      .then((images) =>\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n          page: prevState.page + 1,\n        }))\n      )\n      .catch((error) => this.setState({ error }))\n      .finally(() => {\n        this.scrollDown();\n        this.setState({ isLoading: false });\n      });\n  };\n\n  scrollDown = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  toggleModal = () =>\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n\n  render() {\n    const { images, isLoading, showModal, largeImageURL, error } = this.state;\n    const isLastPage = images.length % 12; //работает только в случае если не кратно 12(\n    return (\n      <>\n        {error && <p>{error.message}</p>}\n        <SearchBar onSubmit={this.onSubmit} />\n\n        {images && (\n          <div>\n            <ImageGallery images={images} />\n          </div>\n        )}\n        {isLoading && <LoaderSpiner />}\n        {!isLastPage && images.length && <Button onClick={this.getImages} />}\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImageURL} alt=\"\" />\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__1kVwW\"};"],"sourceRoot":""}